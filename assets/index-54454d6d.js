(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const k of n.addedNodes)k.tagName==="LINK"&&k.rel==="modulepreload"&&o(k)}).observe(document,{childList:!0,subtree:!0});function e(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=e(r);fetch(r.href,n)}})();let s={tasks:[],mode:"light",filter:"all",counter:0};const g=new URL("/todo-app/assets/icon-cross-37f00ffb.svg",self.location).href,b=new URL("/todo-app/assets/icon-moon-dadf6d0a.svg",self.location).href,E=new URL("/todo-app/assets/icon-sun-fc80f87a.svg",self.location).href,p=document.querySelector(".form-create"),d=document.querySelector("[name='todo']"),a=document.querySelector(".task-list"),T=document.querySelector(".task-clear"),$=document.querySelector(".form-create__btn"),x=document.querySelectorAll(".filter"),h=document.querySelector(".filter--all"),L=document.querySelector(".filter--active"),S=document.querySelector(".filter--completed"),u=document.querySelector(".active-count"),v=document.querySelector(".btn-mode"),i=document.querySelector("body"),l=document.querySelector(".icon-mode"),q=function(t){const c=[...s.tasks],e=s.counter;c.push({text:t,id:e,completed:!1}),s={...s,tasks:c,counter:e+1},a.insertAdjacentHTML("beforeend",`<li class="bg-task task-item"
    data-id = ${e}
    >
  <form class="form-complete">
    <input
      class="task checkbox"
      type="checkbox"
      name="checkbox--${e}"
      id="checkbox--${e}"
    />
  </form>
  <div class="task task-text">${t}</div>
  <button class="btn-delete">
    <img src="${g}" alt="Cross icon" />
  </button>
</li>`),m()},A=function(t){var e;const c=[...s.tasks].filter(o=>o.id!==t);s={...s,tasks:c},(e=a.querySelector(`[data-id='${t}']`))==null||e.remove(),m()},C=function(t,c){const e=[...s.tasks],o=e.find(n=>n.id===t);if(!o)return;o.completed=c;const r=a.querySelector(`[data-id='${t}']`);c?r==null||r.classList.add("complete-task"):r==null||r.classList.remove("complete-task"),s={...s,tasks:e},m()},O=function(){const t=s.tasks.filter(e=>!e.completed);s.tasks.filter(e=>e.completed).forEach(e=>{var o;(o=a.querySelector(`[data-id='${e.id}']`))==null||o.remove()}),s={...s,tasks:t},m()},y=function(t){if(a.querySelectorAll(".task-item").forEach(e=>{e.classList.remove("hide-task")}),s.filter===t){s={...s,filter:"all"},f("all");return}if(s.filter=t,t==="all"){f("all");return}if(t==="active"){f("active");const e=s.tasks.filter(o=>o.completed).map(({id:o})=>a.querySelector(`[data-id='${o}']`));if(!e)return;e.forEach(o=>{o&&o.classList.add("hide-task")})}if(t==="complete"){f("complete");const e=s.tasks.filter(o=>!o.completed).map(({id:o})=>a.querySelector(`[data-id='${o}']`));if(!e)return;e.forEach(o=>{o&&o.classList.add("hide-task")})}},f=function(t){x.forEach(c=>c.classList.remove("filter--current")),t==="all"&&h.classList.add("filter--current"),t==="active"&&L.classList.add("filter--current"),t==="complete"&&S.classList.add("filter--current")},m=function(){const c=s.tasks.filter(e=>!e.completed).map(({id:e})=>a.querySelector(`[data-id='${e}']`)).length;u!=null&&u.textContent&&(u.textContent=c.toString())};$.addEventListener("click",function(t){t.preventDefault(),d.value!==""&&(q(d.value),d.value="")});p==null||p.addEventListener("keydown",function(t){if(t.key==="Enter"){if(d.value==="")return;t.preventDefault(),q(d.value),d.value=""}});a.addEventListener("click",function(t){const c=t.target.closest(".btn-delete");if(!c)return;const e=c.closest(".task-item").dataset.id;A(+e)});a.addEventListener("input",function(t){const c=t.target;if(!c.classList.contains("checkbox"))return;const e=c.closest(".task-item").dataset.id;C(+e,c.checked)});T.addEventListener("click",function(t){t.preventDefault(),O()});L.addEventListener("click",function(){y("active")});S.addEventListener("click",function(){y("complete")});h.addEventListener("click",function(){y("all")});v==null||v.addEventListener("click",function(){s.mode==="dark"?(s.mode="light",i==null||i.classList.remove("dark-theme"),l==null||l.setAttribute("src",b)):s.mode==="light"&&(s.mode="dark",i==null||i.classList.add("dark-theme"),l==null||l.setAttribute("src",E))});
